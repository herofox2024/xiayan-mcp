import{_ as $,b as f,l as E,c as R,h as p,a as t,e as n,g as i,r as d,u as m,p as K,s as N,m as P,t as U,n as M,q as j,x as q,y as A,z as F,E as b,o as G}from"./index-BZ-MVW6h.js";const H={class:"theme-list-container"},J={class:"page-header"},Q={class:"search-bar"},W={class:"theme-table-container"},X={class:"pagination-container"},Y={__name:"ThemeList",setup(Z){const g=A(),u=f(""),s=f(1),v=f(10),_=f([{id:"default",name:"默认主题",description:"简洁大方的默认样式",created_at:new Date().toISOString()},{id:"orangeheart",name:"橙心主题",description:"温暖的橙色主题",created_at:new Date().toISOString()},{id:"rainbow",name:"彩虹主题",description:"多彩的彩虹主题",created_at:new Date().toISOString()},{id:"lapis",name:"青金石主题",description:"高贵的蓝色主题",created_at:new Date().toISOString()},{id:"pie",name:"馅饼主题",description:"可爱的馅饼主题",created_at:new Date().toISOString()},{id:"maize",name:"玉米主题",description:"明亮的黄色主题",created_at:new Date().toISOString()},{id:"purple",name:"紫色主题",description:"神秘的紫色主题",created_at:new Date().toISOString()},{id:"phycat",name:"猫咪主题",description:"萌系猫咪主题",created_at:new Date().toISOString()}]),w=E(()=>{if(!u.value)return _.value;const a=u.value.toLowerCase();return _.value.filter(e=>e.name.toLowerCase().includes(a)||e.description&&e.description.toLowerCase().includes(a)||e.id.toLowerCase().includes(a))}),y=a=>new Date(a).toLocaleString(),h=()=>{s.value=1},D=()=>{u.value="",s.value=1},k=a=>{v.value=a,s.value=1},x=a=>{s.value=a},z=()=>{g.push("/theme/add")},I=a=>{g.push(`/theme/preview/${a}`)},S=a=>{g.push(`/theme/edit/${a}`)},T=a=>{F.confirm(`确定要删除主题 "${a.name}" 吗？此操作不可恢复。`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=_.value.findIndex(o=>o.id===a.id);e!==-1&&(_.value.splice(e,1),b.success("主题删除成功"))}).catch(()=>{b.info("已取消删除")})},O=a=>{S(a.id)};return(a,e)=>{const o=d("el-icon"),r=d("el-button"),L=d("el-input"),c=d("el-table-column"),B=d("el-table"),V=d("el-pagination");return G(),R("div",H,[p("div",J,[e[4]||(e[4]=p("h2",null,"主题列表",-1)),t(r,{type:"primary",onClick:z},{default:n(()=>[t(o,null,{default:n(()=>[t(m(K))]),_:1}),e[3]||(e[3]=i(" 添加主题 ",-1))]),_:1})]),p("div",Q,[t(L,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),placeholder:"搜索主题名称或描述",clearable:"",class:"search-input",onKeyup:P(h,["enter"])},{prefix:n(()=>[t(o,{class:"el-input__icon"},{default:n(()=>[t(m(N))]),_:1})]),_:1},8,["modelValue"]),t(r,{type:"primary",onClick:h},{default:n(()=>[...e[5]||(e[5]=[i("搜索",-1)])]),_:1}),t(r,{onClick:D},{default:n(()=>[...e[6]||(e[6]=[i("重置",-1)])]),_:1})]),p("div",W,[t(B,{data:w.value,stripe:"",border:"",style:{width:"100%"},onRowDblclick:O},{default:n(()=>[t(c,{prop:"id",label:"主题ID",width:"180",align:"center"}),t(c,{prop:"name",label:"主题名称","min-width":"150"}),t(c,{prop:"description",label:"主题描述","min-width":"250"}),t(c,{label:"创建时间",width:"180",align:"center"},{default:n(l=>[i(U(y(l.row.created_at)),1)]),_:1}),t(c,{label:"操作",width:"200",align:"center"},{default:n(l=>[t(r,{type:"info",size:"small",onClick:C=>I(l.row.id),class:"mr-2"},{default:n(()=>[t(o,null,{default:n(()=>[t(m(M))]),_:1}),e[7]||(e[7]=i(" 预览 ",-1))]),_:1},8,["onClick"]),t(r,{type:"primary",size:"small",onClick:C=>S(l.row.id),class:"mr-2"},{default:n(()=>[t(o,null,{default:n(()=>[t(m(j))]),_:1}),e[8]||(e[8]=i(" 编辑 ",-1))]),_:1},8,["onClick"]),t(r,{type:"danger",size:"small",onClick:C=>T(l.row)},{default:n(()=>[t(o,null,{default:n(()=>[t(m(q))]),_:1}),e[9]||(e[9]=i(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),p("div",X,[t(V,{"current-page":s.value,"onUpdate:currentPage":e[1]||(e[1]=l=>s.value=l),"page-size":v.value,"onUpdate:pageSize":e[2]||(e[2]=l=>v.value=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:w.value.length,onSizeChange:k,onCurrentChange:x},null,8,["current-page","page-size","total"])])])}}},te=$(Y,[["__scopeId","data-v-81cfbcb6"]]);export{te as default};
